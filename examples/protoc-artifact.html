<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.1 from src/site/apt/examples/protoc-artifact.apt.vm at 2023-09-08

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.1" />
    <title>Another Maven Protocol Buffers Plugin &#x2013; Resolving Protoc Artifact From Maven Central Repo</title>
    <link rel="stylesheet" href="../css/maven-base.css" />
    <link rel="stylesheet" href="../css/maven-theme.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">Another Maven Protocol Buffers Plugin
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2023-09-08</span>
          &#xA0;| <span id="projectVersion">Version: 2.1.0</span>
      </div>
      <div class="xright"><a href="../../../google/protobuf" title="Google Protocol Buffers">Google Protocol Buffers</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Overview</h5>
    <ul>
     <li class="none"><a href="../index.html" title="Introduction">Introduction</a></li>
     <li class="none"><a href="../plugin-info.html" title="Goals">Goals</a></li>
     <li class="none"><a href="../usage.html" title="Usage">Usage</a></li>
     <li class="none"><a href="../faq.html" title="FAQ">FAQ</a></li>
    </ul>
       <h5>Examples</h5>
    <ul>
     <li class="none"><a href="../examples/protobuf-dependencies.html" title="Resolving Protobuf Dependencies">Resolving Protobuf Dependencies</a></li>
     <li class="none"><a href="../examples/protobuf-toolchain.html" title="Protobuf Toolchain">Protobuf Toolchain</a></li>
     <li class="none"><strong>Protoc Artifact</strong></li>
     <li class="none"><a href="../examples/protoc-plugin.html" title="Custom Protoc Plugins">Custom Protoc Plugins</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="../project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="../project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="Resolving_Protoc_Artifact_From_Maven_Central_Repo"></a>Resolving Protoc Artifact From Maven Central Repo</h2><section>
<h3><a name="Overview"></a>Overview</h3>
<p>Starting with versions <code>2.6.1</code> and <code>3.0.0-alpha-2</code> of <code>protoc</code>, its binary executables for all major operating systems are available as artifacts in Maven central. These artifacts can be referenced in plugin configuration as described below. The plugin automatically resolves and downloads the <code>protoc</code> executable, and uses it for compiling protobuf definitions.</p></section><section>
<h3><a name="Usage"></a>Usage</h3>
<p>It is recommended to use <a class="externalLink" href="https://github.com/trustin/os-maven-plugin"> os-maven-plugin</a> to automatically generate a classifier for the current OS and architecture. The same plugin is used by protobuf team at Google to generate classifiers for <code>protoc</code> artifacts.</p>
<p>Plugin parameter <code>protocArtifact</code> can be used for specifying artifact coordinates in a <code>groupId:artifactId:version[:type[:classifier]]</code> format.</p>
<p>A sample configuration is provided below:</p>
<div class="source">
<pre>
&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;extensions&gt;
      &lt;extension&gt;
        &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;
        &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.6.1&lt;/version&gt;
      &lt;/extension&gt;
    &lt;/extensions&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;dev.cookiecode&lt;/groupId&gt;
        &lt;artifactId&gt;another-protobuf-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.1.0&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;test-compile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;protocArtifact&gt;com.google.protobuf:protoc:3.4.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;
</pre></div>
<p>Eclipse users, please also read <a class="externalLink" href="https://github.com/trustin/os-maven-plugin/blob/master/README.md#issues-with-eclipse-m2e-or-other-ides">the following notes</a>.</p></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2021&#x2013;2023<a href="https://github.com/sebastienvermeille/another-protobuf-maven-plugin/blob/master/AUTHORS">Maven Protocol Buffers Plugin Authors</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
